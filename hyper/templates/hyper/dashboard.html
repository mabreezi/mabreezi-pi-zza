{% extends "base2.html" %}

{% block title %}Dashboard{% endblock %}

{% block section_title %} {{ section_name }} {% endblock %}

{% block content %}

<br>

<div id="plot1" style="width:55%;display:inline-block;"></div>
<div id="plot2" style="width:40%;display:inline-block;"></div>
<div id="plot3"></div>
<div id ="plot4"></div>

<script>
    
    // Cash Disbursed vs Cash Recieved by Refugees
    var bar1 = {
    x: ['1', '2', '3', '4', '5'],
    y: [200000000, 185000000, 80000000, 30000000, 28000000 ],
    name: 'Cash Disbursed',
    type: 'bar'
    };

    var bar2 = {
    x: ['1', '2', '3', '4', '5'],
    y: [128000000, 185000000, 80000000, 28700000, 27500000],
    name: 'Cash Withdrawn',
    type: 'bar'
    };

    var data = [bar1, bar2];

    var layout = {
        barmode: 'group',
        title: 'Cash Disbursed vs Cash Withdrawn: Last Seven days',
        autosize:false,
        width:650,
        height:450,
    };

    Plotly.newPlot('plot1', data, layout);

    // Cash Withdrawn by Zone

    var trace0 = {
    type: "scatter",
    mode: "lines",
    name: 'Total',
    x: ['2018-03-21','2018-03-22', '2018-03-23', '2018-03-24', '2018-03-25','2018-03-26', '2018-03-27'],
    //['2017-10-04 22:23:00', '2017-11-04 22:23:00', '2017-12-04 22:23:00'],
    y: [162748000, 68472000, 30870000, 55200000, 30320000, 41556000, 40654000],
    line: {color: '#17BECF'}
    }

    var trace1 = {
    type: "scatter",
    mode: "lines",
    name: 'Zone 1',
    x: ['2018-03-21','2018-03-22', '2018-03-23', '2018-03-24', '2018-03-25','2018-03-26', '2018-03-27'],
    y: [43540000, 24510000, 10430000, 5900000, 15450000,12500000, 4180000],
    line: {color: '#7F7F7F'}
    }

    var trace2={
    type: "scatter",
    mode: "lines",
    name: 'Zone 2',
    x: ['2018-03-21','2018-03-22', '2018-03-23', '2018-03-24', '2018-03-25','2018-03-26', '2018-03-27'],
    y: [54000000, 24050000, 10140000, 32450000 ,9180000, 21760000, 32420000  ],
    line: {color: '#ccccff'}	
    }

    var trace3={
    type: "scatter",
    mode: "lines",
    name: 'Zone 3',
    x: ['2018-03-21','2018-03-22', '2018-03-23', '2018-03-24', '2018-03-25','2018-03-26', '2018-03-27'],
    y: [50000000, 13400000, 4600000, 12400000 ,0, 0, 0 ],
    line: {color: '#ccccff'}	
    }

    var trace4={
    type: "scatter",
    mode: "lines",
    name: 'Zone 4',
    x: ['2018-03-21','2018-03-22', '2018-03-23', '2018-03-24', '2018-03-25','2018-03-26', '2018-03-27'],
    y: [4808000, 3312000, 4300000,3200000,2570000,6456000,4054000 ],
    line: {color: '#ccccff'}	
    }

    var trace5={
    type: "scatter",
    mode: "lines",
    name: 'Zone 5',
    x: ['2018-03-21','2018-03-22', '2018-03-23', '2018-03-24', '2018-03-25','2018-03-26', '2018-03-27'],
    y: [10400000, 3200000, 1400000, 1250000,3120000,840000 ,0 ],
    line: {color: '#ccccff'}	
    }

    var data = [trace0, trace1,trace2, trace3, trace4, trace5];

    var layout = {
    title: 'Cash Withdrawn by Region',
        xaxis: {
        range: ['2018-03-21', '2018-03-27'],
        type: 'date'
    }
    };

    Plotly.newPlot('plot2', data, layout);

    // Items disbured over the week

    var data = [
    {
        x: ['Posho', 'Beans', 'Phones', 'Sanitary Pads', 'Seeds'],
        y: [134523, 134523, 23042, 53689, 12585],
        type: 'bar'
    }
    ];

    var layout = {
        title:'Refugees served by Item',
        autosize:false,
        width:650,
        height:450,
    }

    Plotly.newPlot('plot3', data, layout);


</script>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<!-- Plotly Javascript -->

{% endblock %}
